# Día 11: Expansión Cósmica

Sigues las señales hacia las "Termas" y, finalmente, te encuentras con un observatorio. El elfo que hay dentro resulta ser un investigador que estudia la expansión cósmica utilizando el telescopio gigante del lugar.

No sabe nada sobre las piezas de la máquina que faltan; está aquí solo por este proyecto de investigación. Sin embargo, confirma que las termas son el siguiente lugar más cercano donde probablemente haya gente. Incluso se ofrece a llevarte allí directamente una vez que termine el análisis de las observaciones del día.

¿Quizá podrías ayudarle con el análisis para acelerar el proceso?

El investigador ha recopilado una gran cantidad de datos y los ha combinado en una sola imagen gigante (tu entrada del rompecabezas). La imagen incluye espacio vacío (.) y galaxias (#). Por ejemplo:

...#......
.......#..
#.........
..........
......#...
.#........
.........#
..........
.......#..
#...#.....

El investigador intenta calcular la suma de las longitudes del camino más corto entre cada par de galaxias. Sin embargo, hay un problema: el universo se expandió en el tiempo que tardó la luz de esas galaxias en llegar al observatorio.

Debido a efectos gravitacionales, solo algunas áreas del espacio se expanden. En concreto, cualquier fila o columna que no contenga galaxias debería ser, en realidad, el doble de grande.

En el ejemplo anterior, tres columnas y dos filas no contienen galaxias:

   v  v  v
 ...#......
 .......#..
 #.........
>..........<
 ......#...
 .#........
 .........#
>..........<
 .......#..
 #...#.....
   ^  ^  ^

Estas filas y columnas deben duplicarse en tamaño. El resultado de la expansión cósmica se ve así:

....#........
.........#...
#............
.............
.............
........#....
.#...........
............#
.............
.............
.........#...
#....#.......

Con este universo expandido, se puede encontrar el camino más corto entre cada par de galaxias. Para facilitar el proceso, se puede asignar un número único a cada galaxia:

....1........
.........2...
3............
.............
.............
........4....
.5...........
............6
.............
.............
.........7...
8....9.......

En estas 9 galaxias, hay 36 pares únicos. Solo se cuenta cada par una vez; el orden dentro del par no importa. Para cada par, encuentra el camino más corto utilizando únicamente pasos que se muevan hacia arriba, abajo, izquierda o derecha exactamente un espacio (. o #) a la vez. El camino más corto entre dos galaxias puede pasar a través de otra galaxia.

Por ejemplo, este es uno de los caminos más cortos entre las galaxias 5 y 9:

....1........
.........2...
3............
.............
.............
........4....
.5...........
.##.........6
..##.........
...##........
....##...7...
8....9.......

Este camino tiene una longitud de 9 porque se necesitan un mínimo de nueve pasos para ir de la galaxia 5 a la galaxia 9 (los ocho espacios marcados con # más el paso final hacia la galaxia 9). Aquí tienes algunos ejemplos adicionales de longitudes de los caminos más cortos:

Entre la galaxia 1 y la galaxia 7: 15
Entre la galaxia 3 y la galaxia 6: 17
Entre la galaxia 8 y la galaxia 9: 5
En este ejemplo, después de expandir el universo, la suma de las longitudes de los caminos más cortos entre los 36 pares de galaxias es 374.

Expande el universo y encuentra la longitud del camino más corto entre cada par de galaxias. ¿Cuál es la suma de estas longitudes?

## Parte Dos
Las galaxias son mucho más antiguas (y, por lo tanto, están mucho más separadas) de lo que el investigador había estimado inicialmente.

Ahora, en lugar de la expansión que realizaste antes, haz que cada fila o columna vacía sea un millón de veces más grande. Es decir, cada fila vacía debe reemplazarse por 1.000.000 de filas vacías, y cada columna vacía debe reemplazarse por 1.000.000 de columnas vacías.

(En el ejemplo anterior, si cada fila o columna vacía se ampliase solo 10 veces, la suma de los caminos más cortos entre cada par de galaxias sería 1030. Si cada fila o columna vacía se ampliase solo 100 veces, la suma sería 8410. Sin embargo, tu universo deberá expandirse mucho más allá de estos valores).

Comenzando con la misma imagen inicial, expande el universo de acuerdo con estas nuevas reglas, y luego encuentra la longitud del camino más corto entre cada par de galaxias. ¿Cuál es la suma de estas longitudes?
